<ion-content [fullscreen]="true">
  <div class="view" [style.margin-top]="'5rem'">
    <!-- Card with a border -->
    @if (productsList.products.length >0) {
    

    <div *ngIf="productsList.products.length > 0" class="product-count">
      <ion-icon name="checkmark-circle" size="large"></ion-icon>
      Hai rilevato {{ productsList.products.length }} prodotto/i.
    </div>

    <div class="center-button">
      <ion-button expand="block" color="primary" (click)="sendProducts()">
        Invia
      </ion-button>
    </div>
    
    <ion-card
      class="product-card"
      *ngFor="let prod of productsList.products"
      [class.removing]="removingProducts.has(prod)"
    >
      <ion-card-header>
        <!-- Shop Name with a border -->
        <div class="shop-name">
          <h2>{{prod.shopName}}</h2>
        </div>
      </ion-card-header>

      <ion-card-content>
        <!-- Product Details -->
        <ion-item>
          <ion-label
            ><span class="bold-text">Ean:</span> {{prod.ean}}</ion-label
          >
        </ion-item>

        <ion-item>
          <ion-label
            ><span class="bold-text">Prezzo:</span> {{prod.price}}â‚¬</ion-label
          >
        </ion-item>

        <ion-item>
          <ion-label
            ><span class="bold-text">PROMO:</span> {{prod.inPromo?
            "Si":"No"}}</ion-label
          >
        </ion-item>

        <ion-item>
          <ion-label
            ><span class="bold-text">Cod. Utente:</span>
            {{prod.userCode}}</ion-label
          >
        </ion-item>

        <ion-item>
          <ion-label
            ><span class="bold-text">Note:</span> {{prod.note}}</ion-label
          >
        </ion-item>

        <ion-item>
          <ion-label
            ><span class="bold-text">Data:</span> {{prod.date}}</ion-label
          >
        </ion-item>
      </ion-card-content>

      <!-- Trash Button at the bottom -->
      <div class="center-button">
        <ion-button
          expand="block"
          color="warning"
          (click)="confirmRemoveProduct(prod)"
        >
          <ion-icon name="trash" slot="icon-only"></ion-icon>
        </ion-button>
      </div>
    </ion-card>

    }@else {
    <div class="noProduct">
      <ion-icon name="file-tray-stacked-outline"></ion-icon>
      Nessun Prodotto Aggiunto
    </div>
    }
  </div>
</ion-content>
